!function(e,t){function r(){var t={},r=new RegExp("([a-z-0-9]{2,63}).([a-z.]{2,5})$").exec(e.location.hostname);return t.domain=r[1],t.type=r[2],t}e.dataLayer=e.dataLayer||[];var a="."+r().domain+"."+r().type;if("undefined"==typeof JSON){var o=t.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src","//cdnjs.cloudflare.com/ajax/libs/json2/20150503/json2.min.js"),t.getElementsByTagName("head")[0].appendChild(o)}var n=function(){for(var e,r=t.cookie.split(";"),a=0;a<r.length;a++)if(r[a].indexOf("traffic_src")>=0){e=r[a];break}return e?(e=e.substring(e.indexOf("=")+1,e.length),JSON.parse(e)):null},i={getParameterByName:function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))},getKeywords:function(e){if(""===e||"(direct)"===e)return"";for(var t="daum:q eniro:search_word naver:query pchome:q images.google:q google:q yahoo:p yahoo:q msn:q bing:q aol:query aol:q lycos:q lycos:query ask:q cnn:query virgilio:qs baidu:wd baidu:word alice:qs yandex:text najdi:q seznam:q rakuten:qt biglobe:q goo.ne:MT search.smt.docomo:MT onet:qt onet:q kvasir:q terra:query rambler:query conduit:q babylon:q search-results:q avg:q comcast:q incredimail:q startsiden:q go.mail.ru:q centrum.cz:q 360.cn:q sogou:query tut.by:query globo:q ukr:q so.com:q haosou.com:q auone:q".split(" "),r=0;r<t.length;r++){var a=t[r].split(":"),o=a[0],n=a[1];if(e.indexOf(o)>=0&&(u.ga_source=o,""!==this.getParameterByName(e,n)))return this.getParameterByName(e,n)}var i=new RegExp("^https?://(www.)?google(.com?)?(.[a-z]{2}t?)?/?$","i"),c=new RegExp("^https?://(r.)?search.yahoo.com/?[^?]*$","i"),g=new RegExp("^https?://(www.)?bing.com/?$","i");return i.test(e)||c.test(e)||g.test(e)?"(not provided)":""},getMedium:function(e){return""!==u.ga_medium?u.ga_medium:""!==u.ga_gclid?"cpc":""===u.ga_source?"":"(direct)"===u.ga_source?"(none)":""!==u.ga_keyword?"organic":"referral"},getDateAfterYears:function(e){return new Date((new Date).getTime()+365*e*24*60*60*1e3)},getHostname:function(e){var t=new RegExp("^(https://|http://)?([^/?:#]+)").exec(e)[2];return null!==t?t:""},waitLoad:function(e,t){var r=100,a=function(){setTimeout(function(){r--,e()?t():r>0?a():console.error("timed-out!!")},100)};a()}},c=[{key:"utm_source",label:"ga_source",required:!0},{key:"utm_medium",label:"ga_medium",required:!1},{key:"utm_campaign",label:"ga_campaign",required:!1},{key:"utm_content",label:"ga_content",required:!1},{key:"utm_term",label:"ga_keyword",required:!1}],u={},g=function(e){u.ga_gclid=i.getParameterByName(t.location.href,"gclid");for(var r=!1,o=0;o<c.length;o++){var g=i.getParameterByName(t.location.href,c[o].key);if(c[o].required&&""===g){r=!0;for(var s=0;s<c.length;s++)u[c[s].label]="";break}u[c[o].label]=g}if(""!==u.ga_gclid&&""===u.ga_source)u.ga_source="google";else if(r){if(t.referrer.indexOf(t.location.host)>=0)return;if(null!==n()&&""===t.referrer)return;u.ga_source=""!==t.referrer?t.referrer:"(direct)"}if(u.ga_keyword=""===u.ga_keyword?i.getKeywords(u.ga_source):u.ga_keyword,u.ga_medium=i.getMedium(u),u.ga_landing_page=t.location.href,u.ga_source=i.getHostname(u.ga_source),e&&(u.ga_client_id=ga.getAll()[0].get("clientId")),""!==u.ga_source){var d=JSON.stringify(u);t.cookie="traffic_src=; expires="+new Date(-1),t.cookie="traffic_src="+d+"; expires="+i.getDateAfterYears(1)+"; domain="+a+"; path=/"}dataLayer.push({event:"trafficSrcCookieSet"}),t.addEventListener("name-of-event",function(e){});var l=new CustomEvent("name-of-event",{type:"Traffic_Source_Ready",message:"Traffic Source Ready",cookieData:n(),time:new Date});t.dispatchEvent(l),u={}};e.trafficSrcCookie={setCookie:function(e){e||(e={}),i.waitLoad(function(){return"undefined"!=typeof JSON},function(){e.getGaClient?i.waitLoad(function(){return void 0!==ga.getAll},function(){g(!0)}):g(!1)})},getCookie:n}}(window,document);